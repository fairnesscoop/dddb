{% extends 'base.html.twig' %}

{% block title %}
  {{ 'models.view.meta.title'|trans({
      '%manufacturer%': model.serie.manufacturer,
      '%serie%': model.serie.name,
      '%codeName%': model.codeName,
  }) }}
  -
  {{ parent() }}
{% endblock %}

{% block body %}
  {% include "common/_aside.html.twig" %}
  <main class="ml-72 py-8 px-8">
    <section class="mb-4 block">
      <header class="w-full flex justify-between items-center">
        <h1 class="text-xl font-bold tracking-tight md:text-2xl">{{ 'models.view.title'|trans({
          '%manufacturer%': model.serie.manufacturer,
          '%serie%': model.serie.name,
          '%codeName%': model.codeName,
        }) }}</h1>
      </header>
    </section>

    <section class="my-3 block">
      {% for attributeName in allAttributeNames %}
        {% include "models/attributes/_#{attributeName}.html.twig"
          with { attribute: attributes[attributeName] | default(null) }
        %}
      {% endfor %}
    </section>

    <section class="my-3">
      <h2 class="text-l font-bold tracking-tight md:text-2l">{{ 'models.view.codeTac.title'|trans }}</h2>

      {% if codeTacs | length > 0 %}
        <ul>
          {% for code in codeTacs %}
          <li class="font-mono">
            {{ '%08d'|format(code) }}
          </li>
          {% endfor %}
        </ul>
      {% else %}
      <p class="p-4"><em>{{ 'models.view.codeTac.none'|trans }}</em></p>
      {% endif %}

      <div>
        {{ form_start(formCodeTac) }}
        {{ form_row(formCodeTac.codeTac) }}
        <button class="text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-4 py-1 text-center">
          {{ 'models.create.form.codeTac.submit'|trans }}
        </button>
        {{ form_end(formCodeTac) }}
      </div>
    </section>
  </main>
{% endblock %}
